<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Visual Tests — MiniGames</title>
    <style>
        body{font-family:Arial,Helvetica,sans-serif;background:#0f0f0f;color:#fff;padding:20px}
        .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
        iframe{width:100%;height:420px;border:1px solid rgba(255,255,255,0.08)}
        .result{margin-top:12px;padding:10px;border-radius:6px;background:#111}
        .ok{color:#2ecc71} .nok{color:#ff6b6b}
    </style>
</head>
<body>
    <h2>Pruebas visuales rápidas — MiniGames</h2>
    <p>Esta página carga los menús/juegos en iframes y ejecuta comprobaciones DOM básicas.</p>
    <div class="grid">
        <div>
            <h3>Detective Lógico (menú)</h3>
            <iframe id="iframe-falacias" src="falacias.html"></iframe>
        </div>
        <div>
            <h3>Detective Lógico (juego)</h3>
            <iframe id="iframe-falacias-game" src="falacias-game.html"></iframe>
        </div>
        <div>
            <h3>Speed Logic (menú)</h3>
            <iframe id="iframe-silogismos" src="silogismos.html"></iframe>
        </div>
        <div>
            <h3>Speed Logic (juego)</h3>
            <iframe id="iframe-gameone" src="gameone.html"></iframe>
        </div>
    </div>

    <div class="result" id="test-results">Resultados de las pruebas aparecerán aquí...</div>

    <script>
        const tests = [
            {id:'iframe-falacias', checks:[{sel:'.hero-title',name:'hero-title'},{sel:'.minimal-btn-wrapper',name:'start-button'}]},
            {id:'iframe-falacias-game', checks:[{sel:'#question-text',name:'question-text'},{sel:'.actions-grid',name:'actions-grid'},{sel:'#timer-fill',name:'timer-fill'}]},
            {id:'iframe-silogismos', checks:[{sel:'.hero-title',name:'hero-title'},{sel:'.minimal-btn-wrapper',name:'start-button'}]},
            {id:'iframe-gameone', checks:[{sel:'#question-text',name:'question-text'},{sel:'.actions-grid',name:'actions-grid'},{sel:'#timer-fill',name:'timer-fill'}]}
        ];

        function runChecks(){
            const out = [];
            tests.forEach(t=>{
                const frame = document.getElementById(t.id);
                try{
                    const doc = frame.contentDocument || frame.contentWindow.document;
                    t.checks.forEach(c=>{
                        const found = doc.querySelector(c.sel) !== null;
                        out.push(`${t.id} → ${c.name}: ` + (found? 'OK':'MISSING'));
                    });
                }catch(e){
                    out.push(`${t.id} → ERROR: no se puede acceder al iframe (política de mismo origen?)`);
                }
            });
            document.getElementById('test-results').innerText = out.join('\n');
        }

        // Ejecutar tras carga de iframes
        window.addEventListener('load', ()=>{ setTimeout(runChecks,700); });
    </script>
</body>
</html>
